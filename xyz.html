<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
    <meta name="generator" content="Hugo 0.88.1">
    <title>XYZ Color Space</title>

    <link rel="canonical" href="https://getbootstrap.com/docs/5.1/examples/headers/">

    <!-- Bootstrap core CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">


    <style>
      .bd-placeholder-img {
        font-size: 1.125rem;
        text-anchor: middle;
        -webkit-user-select: none;
        -moz-user-select: none;
        user-select: none;
      }

      @media (min-width: 768px) {
        .bd-placeholder-img-lg {
          font-size: 3.5rem;
        }
      }
    </style>

    
    <!-- Custom styles for this template -->
    <link href="headers.css" rel="stylesheet">

    <!-- JavaScript -->
    <script src='https://cdn.plot.ly/plotly-2.4.2.min.js'></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/3.2.1/math.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.5.1/chart.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chartjs-plugin-zoom/1.1.1/chartjs-plugin-zoom.min.js"></script>
    <script src="https://d3js.org/d3.v3.min.js"></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js'></script>
    <script src='hull.js'></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/numeric/1.2.6/numeric.js"></script>

    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML"></script>
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {
            inlineMath: [['$','$'], ['\\(','\\)']],
            displayMath: [ ['$$','$$'], ['\[','\]'] ]
          }
        });
        MathJax.Hub.Register.StartupHook("End",function () {
          console.log("Mathjax loaded");
          console.log(typeof MathJax);
          MathJax.Hub.Queue(["Typeset", MathJax.Hub, "TFS"]);
        });
    </script>
  </head>
  <body>

<main>
  <div class="container">
    <header class="d-flex flex-wrap justify-content-center pt-3 mb-4 border-bottom">
      <a href="/" class="d-flex align-items-center mb-3 mb-md-0 me-md-auto text-dark text-decoration-none">
        <h2>Tutorial 3: From RGB to XYZ</h2>
      </a>
    </header>

    <div class="d-grid gap-3 pt-3 mb-4 px-4 bg-light border rounded-3">
      <div class="row">
        <h3>Introduction</h3>
      </div>
    </div>

    <div class="d-grid gap-3 pt-3 mb-4 px-4 bg-light border rounded-3">
      <div class="row">
        <h3>Part 1: The Intuition</h3>
        <p>We will show what the transformation does and leave the derivation of the transformation to the next part. The left plot shows the spectral locus in the CIE 1931 RGB color space. Spin around the plot and hover the locus you will see that some spectral lights require negative amount of primaries. One goal of the XYZ space is that all spectral colors should have positive primary amounts. In other words, the spectral locus should reside in the all-positive octant of the XYZ space.</p>
        <p>One way to reason about the RGB to XYZ transformation is to choose three vectors originating from the origin in the RGB space ($\overrightarrow{\mathbf{OC_r}}$, $\overrightarrow{\mathbf{OC_g}}$, and $\overrightarrow{\mathbf{OC_b}}$); these vectors should be chosen in such a way that they, after transformation, become the basis vectors in the XYZ space. In the RGB space, the spectral locus should be completely enclosed by the planes formed by the three vectors. Toggle the "Show Bounds" button to reveal the vectors and the bound.</p>

        <div class="row mt-1 mb-4">
          <div class="col-sm-6">
            <div id="spaceDiv"></div>
            <div class="btn-group-sm d-flex justify-content-center" role="group" aria-label="Basic radio toggle button group">
              <div class="form-check form-switch mx-2 mt-1">
                <input class="form-check-input" type="checkbox" role="switch" id="showBounds">
                <label class="form-check-label" for="showBounds"><b>Show Bounds</b></label>
              </div>

              <input type="radio" class="btn-check" name="3dmode" id="showRGB" autocomplete="off" checked>
              <label class="btn btn-outline-primary btn-sm" for="showRGB">RGB</label>

              <input type="radio" class="btn-check" name="3dmode" id="showXYZ" autocomplete="off">
              <label class="btn btn-outline-primary btn-sm" for="showXYZ">XYZ</label>
            </div>
          </div>
          <div class="col-sm-6">
            <div id="chrmDiv"></div>
            <div class="btn-group-sm d-flex justify-content-center" role="group" aria-label="Basic radio toggle button group">
              <input type="radio" class="btn-check" name="2dmode" id="showrg" autocomplete="off" checked>
              <label class="btn btn-outline-primary btn-sm" for="showrg">rg-chromaticity</label>

              <input type="radio" class="btn-check" name="2dmode" id="showxy" autocomplete="off">
              <label class="btn btn-outline-primary btn-sm" for="showxy">xy-chromaticity</label>
            </div>
          </div>
        </div>

        <p>Now click the "XYZ" button. You will see the transformed locus in the XYZ space. The three vectors are now the unit basis vectors in the XYZ space, and the spectral locus is completely within the all-positive octant in the XYZ space.</p>
        <p>Along with the RGB to XYZ transformation, there is also a corresponding rg to xy chromaticity transformation, which we visualize in the plot on the right. Toggle the "xy-chromaticity" button to see the transformation. The chromaticity gamut of the XYZ space is the triangle, which completely encloses the spectral locus. The HVS gamut (in chromaticity) is the area under the spectral locus. Note, however, while RGB-to-XYZ is a linear transformation, rg-to-xy transformation is not. This is because RGB-to-rgb is not a linear transformation, as we discussed in <a href="chromaticity.html">the chromaticity tutorial</a>.</p>

      <div class="row">
        <h4>The xyY Color Space</h4>
        <div id="xyYDiv"></div>
        <p>Sometimes you will also see the notion of "xyY" space. From the an xyz triplet, we can't uniquely go back to a point in the XYZ space. Essentially, the chromaticity diagram loses the intensity information of a color. The xyY space retains the color intensity information, because the Y component, by construction, encodes the luminance information (of spectral colors of equal power).</p>
        <p>The plot above shows the spectral locus in the xyY space. The xy coordinates of a point shows the chromaticity of the color, and the Y coordinate shows the relatively luminance. In one figure, we get both the chromaticity information and the intensity information.</p>
      </div>

      </div>
    </div>

    <div class="d-grid gap-3 pt-3 mb-4 px-4 bg-light border rounded-3">
      <div class="row">
        <h3>Part 2: The Math</h3>
      </div>
    </div>

    <div class="b-example-divider"></div>
  </div>


</main>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ" crossorigin="anonymous"></script>

    <script src="xyz.js"></script>
  </body>
</html>
